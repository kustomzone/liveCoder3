!function(e,n,t,o){"use strict";var a=t.module("angular-debug-bar",[]);a.factory("DebugBarFactory",["$timeout",function(a){var c={},u=e.performance||e.msPerformance||e.webkitPerformance||e.mozPerformance,i=function(){},r=function(e,n){var o=function(){};return o.prototype=new i,t.extend(o.prototype,n),c[e]=new o,c[e]},l={valueName:o,unit:o,label:o,icon:o},s=function(){t.forEach(c,function(e){e.setDefault()})},f=function(e){a(e,1e3)},m={reload:s,registerPlugin:r,getPlugins:function(){return c}};return t.extend(i.prototype,{setDefault:function(){throw new Error("Unimplemented method :setDefault")},extendScope:function(){throw new Error("Unimplemented method :extendScope")},getParams:function(){throw new Error("Unimplemented method :getParams")}}),r("watchCount",{setDefault:function(){this.scope.watchCount=0},extendScope:function(e){e.watchCount=0,f(function(){var o=t.element(n.getElementsByTagName("html")),a=[],c=function(e){e.data().hasOwnProperty("$scope")&&t.forEach(e.data().$scope.$$watchers,function(e){a.push(e)}),t.forEach(e.children(),function(e){c(t.element(e))})};0===a.length&&c(o),e.watchCount=a.length})},getParams:function(){var e=t.copy(l);return t.extend(e,{valueName:"watchCount",label:"Watchers",icon:"icon-eye"}),e}}),r("listenerCount",{setDefault:function(){this.scope.listenerCount=0},extendScope:function(e){e.listenerCount=0,f(function(){var o=t.element(n.getElementsByTagName("html")),a=[],c=function(e){e.data().hasOwnProperty("$scope")&&t.forEach(e.data().$scope.$$listeners,function(e){a.push(e)}),t.forEach(e.children(),function(e){c(t.element(e))})};0===a.length&&c(o),e.listenerCount=a.length})},getParams:function(){var e=t.copy(l);return t.extend(e,{valueName:"listenerCount",label:"Listeners",icon:"icon-headphones"}),e}}),r("DOMObjectCount",{setDefault:function(){this.scope.DOMObjectCount=0},extendScope:function(e){e.DOMObjectCount=0,f(function(){e.DOMObjectCount=n.all.length})},getParams:function(){var e=t.copy(l);return t.extend(e,{valueName:"DOMObjectCount",label:"DOM objects",icon:"icon-home"}),e}}),r("loadTime",{setDefault:function(){this.scope.loadTime=0},extendScope:function(e){e.loadTime=0,f(function(){e.loadTime=u.timing.loadEventStart-u.timing.navigationStart})},getParams:function(){var e=t.copy(l);return t.extend(e,{valueName:"loadTime",label:"Load time",unit:"ms"}),e}}),r("latency",{setDefault:function(){this.scope.latency=0},extendScope:function(e){e.latency=0,f(function(){e.latency=u.timing.responseStart-u.timing.connectStart})},getParams:function(){var e=t.copy(l);return t.extend(e,{valueName:"latency",label:"Latency",unit:"ms"}),e}}),r("cssCount",{setDefault:function(){this.scope.cssCount=0},extendScope:function(e){e.cssCount=0,f(function(){e.cssCount=n.querySelectorAll('link[rel="stylesheet"]').length})},getParams:function(){var e=t.copy(l);return t.extend(e,{valueName:"cssCount",label:"CSS"}),e}}),r("jsCount",{setDefault:function(){this.scope.jsCount=0},extendScope:function(e){e.jsCount=0,f(function(){e.jsCount=n.querySelectorAll("script").length})},getParams:function(){var e=t.copy(l);return t.extend(e,{valueName:"jsCount",label:"JS"}),e}}),r("imgCount",{setDefault:function(){this.scope.imgCount=0},extendScope:function(e){e.imgCount=0,f(function(){e.imgCount=n.querySelectorAll("img").length})},getParams:function(){var e=t.copy(l);return t.extend(e,{valueName:"imgCount",label:"Images"}),e}}),m}]),a.directive("angularDebugBarPlugins",["$compile",function(e){var n=function(e){var n='<li><div class="value-wrapper">';return e.icon&&(n+='<i class="'+e.icon+'"></i>'),n+='<span class="value" ng-bind="'+e.valueName+'"></span>',e.unit&&(n+='<span class="unit">'+e.unit+"</span>"),n+="</div>",e.label&&(n+='<h3 class="label">'+e.label+"</h3>"),n+"</li>"};return{restrict:"E",replace:!0,scope:!1,template:"<ul></ul>",link:function(o,a){t.forEach(o.plugins,function(t){var c=o.$new();t.scope=c,t.extendScope(c),a.append(e(n(t.getParams()))(c))})}}}]),a.directive("angularDebugBar",["$compile","DebugBarFactory",function(e,n){return{restrict:"E",replace:!0,scope:!0,controller:function(e){e.plugins={},e.show=!1,e.showHide=function(n){n.preventDefault(),e.show=!e.show}},compile:function(t){var o='<div id="angular-debug-bar" ng-class="{ \'show\': show }"><button class="icon-cog" ng-click="showHide($event)"></button><angular-debug-bar-plugins></angular-debug-bar-plugins></div>';return function(a){a.plugins=n.getPlugins(),t.replaceWith(e(o)(a)),a.$on("$routeChangeSuccess",function(){n.reload()})}}}}])}(window,window.document,window.angular);